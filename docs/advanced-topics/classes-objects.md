---
title: Pythoné¢å‘å¯¹è±¡ç¼–ç¨‹è¯¦è§£
description: å…¨é¢ä»‹ç»Pythoné¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…æ‹¬ç±»ä¸å¯¹è±¡ã€ç»§æ‰¿ä¸å¤šæ€ã€å°è£…ã€é­”æœ¯æ–¹æ³•ã€å±æ€§è£…é¥°å™¨ç­‰é«˜çº§ç‰¹æ€§ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡é¢å‘å¯¹è±¡ç¼–ç¨‹èŒƒå¼ã€‚
keywords: [Pythoné¢å‘å¯¹è±¡, ç±»ä¸å¯¹è±¡, ç»§æ‰¿å¤šæ€, å°è£…, é­”æœ¯æ–¹æ³•]
sidebar_position: 4
---

# ç±»ä¸å¯¹è±¡ï¼ˆClasses and Objectsï¼‰

## ç±»ä¸å¯¹è±¡çš„åŸºæœ¬æ¦‚å¿µ

-   **ç±»ï¼ˆClassï¼‰** æ˜¯**å¯¹è±¡çš„è“å›¾**ï¼Œå®šä¹‰äº†å¯¹è±¡åº”å…·å¤‡çš„å±æ€§å’Œè¡Œä¸ºã€‚
-   **å¯¹è±¡ï¼ˆObjectï¼‰** æ˜¯æ ¹æ®ç±»åˆ›å»ºçš„å®ä¾‹ï¼Œæ˜¯å…·ä½“å­˜åœ¨çš„å®ä½“ã€‚

é¢å‘å¯¹è±¡ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µï¼š

-   **å°è£…ï¼ˆEncapsulationï¼‰**ï¼šå°†æ•°æ®å’Œæ–¹æ³•åŒ…è£…åœ¨ä¸€èµ·ï¼Œæ§åˆ¶å¯¹å†…éƒ¨æ•°æ®çš„è®¿é—®
-   **ç»§æ‰¿ï¼ˆInheritanceï¼‰**ï¼šå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå®ç°ä»£ç é‡ç”¨
-   **å¤šæ€ï¼ˆPolymorphismï¼‰**ï¼šåŒä¸€æ“ä½œå¯ä»¥ä½œç”¨äºä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œäº§ç”Ÿä¸åŒçš„è¡Œä¸º

## å®šä¹‰ç±»ä¸åˆ›å»ºå¯¹è±¡

### å®šä¹‰ç±»çš„åŸºæœ¬è¯­æ³•ï¼š

```python
class ç±»å:
    å±æ€§å®šä¹‰
    æ–¹æ³•å®šä¹‰
```

### åˆ›å»ºå¯¹è±¡ï¼š

```python
obj = ç±»å()
```

### å®Œæ•´ç¤ºä¾‹ï¼š

```python
class Dog:
    # ç±»å˜é‡ï¼ˆæ‰€æœ‰å®ä¾‹å…±äº«ï¼‰
    species = "Canis familiaris"

    # æ„é€ æ–¹æ³•
    def __init__(self, name, age):
        # å®ä¾‹å˜é‡ï¼ˆæ¯ä¸ªå®ä¾‹ç‹¬æœ‰ï¼‰
        self.name = name
        self.age = age

    # å®ä¾‹æ–¹æ³•
    def bark(self):
        return f"{self.name}æ­£åœ¨æ±ªæ±ªå«ï¼"

# åˆ›å»ºDogç±»çš„å®ä¾‹
dog1 = Dog("æ—ºè´¢", 3)
dog2 = Dog("æ¥ç¦", 2)

# è®¿é—®å®ä¾‹å˜é‡
print(dog1.name)  # è¾“å‡º: æ—ºè´¢

# è°ƒç”¨å®ä¾‹æ–¹æ³•
print(dog1.bark())  # è¾“å‡º: æ—ºè´¢æ­£åœ¨æ±ªæ±ªå«ï¼

# è®¿é—®ç±»å˜é‡
print(dog1.species)  # è¾“å‡º: Canis familiaris
print(Dog.species)   # è¾“å‡º: Canis familiaris
```

## æ„é€ æ–¹æ³• `__init__`

-   åœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨
-   ç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„å±æ€§
-   ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯`self`ï¼Œè¡¨ç¤ºå®ä¾‹æœ¬èº«

```python
def __init__(self, å‚æ•°):
    self.å±æ€§å = å‚æ•°å€¼
```

## å®ä¾‹å˜é‡ä¸å®ä¾‹æ–¹æ³•

### å®ä¾‹å˜é‡

-   æ¯ä¸ªå¯¹è±¡ç‹¬æœ‰çš„æ•°æ®ï¼Œé€šè¿‡ `self.å˜é‡å` å®šä¹‰å’Œè®¿é—®
-   åœ¨`__init__`æ–¹æ³•æˆ–å…¶ä»–å®ä¾‹æ–¹æ³•ä¸­å®šä¹‰
-   ä½¿ç”¨`å¯¹è±¡å.å˜é‡å`è®¿é—®

### å®ä¾‹æ–¹æ³•

-   å®šä¹‰åœ¨ç±»ä¸­ã€æ“ä½œå®ä¾‹æ•°æ®çš„å‡½æ•°
-   ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯`self`ï¼Œè¡¨ç¤ºè°ƒç”¨è¯¥æ–¹æ³•çš„å®ä¾‹
-   é€šè¿‡`å¯¹è±¡å.æ–¹æ³•å()`è°ƒç”¨

```python
class Student:
    def __init__(self, name, score):
        self.name = name
        self.score = score

    def get_grade(self):
        if self.score >= 90:
            return 'A'
        elif self.score >= 80:
            return 'B'
        else:
            return 'C'

student = Student("å°æ˜", 85)
print(student.get_grade())  # è¾“å‡º: B
```

## å°è£…ä¸ç§æœ‰å˜é‡

åœ¨ Python ä¸­ä½¿ç”¨çº¦å®šä¿—æˆçš„ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºå˜é‡çš„è®¿é—®é™åˆ¶ï¼š

-   `_å˜é‡å`ï¼šå•ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤º"å—ä¿æŠ¤"çš„å˜é‡ï¼ˆçº¦å®šä¸ç›´æ¥è®¿é—®ï¼‰
-   `__å˜é‡å`ï¼šåŒä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤º"ç§æœ‰"å˜é‡ï¼ˆPython ä¼šè¿›è¡Œåç§°æ”¹å†™ï¼‰

```python
class Account:
    def __init__(self, owner, balance):
        self.owner = owner         # å…¬å¼€å˜é‡
        self._account_type = "å‚¨è“„" # å—ä¿æŠ¤å˜é‡
        self.__balance = balance   # ç§æœ‰å˜é‡

    def deposit(self, amount):
        self.__balance += amount
        return self.__balance

    def withdraw(self, amount):
        if amount > self.__balance:
            return "ä½™é¢ä¸è¶³"
        self.__balance -= amount
        return self.__balance

    def check_balance(self):
        return self.__balance

account = Account("å¼ ä¸‰", 1000)
print(account.owner)           # å¯ä»¥è®¿é—®: å¼ ä¸‰
print(account._account_type)   # å¯ä»¥è®¿é—®ä½†ä¸æ¨è: å‚¨è“„
# print(account.__balance)     # é”™è¯¯!æ— æ³•ç›´æ¥è®¿é—®
print(account.check_balance()) # åº”é€šè¿‡æ–¹æ³•è®¿é—®: 1000

# å®é™…ä¸Šç§æœ‰å˜é‡è¢«æ”¹åä¸º:
print(account._Account__balance)  # å¯ä»¥è¿™æ ·è®¿é—®: 1000
```

## ç±»å˜é‡ä¸ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•

### ç±»å˜é‡

-   å±äºæ•´ä¸ªç±»ï¼Œæ‰€æœ‰å¯¹è±¡å…±äº«
-   å®šä¹‰åœ¨ç±»çš„ç›´æ¥å‘½åç©ºé—´ä¸­
-   é€šè¿‡`ç±»å.å˜é‡å`æˆ–`å®ä¾‹.å˜é‡å`è®¿é—®

```python
class Circle:
    pi = 3.14159  # ç±»å˜é‡

    def __init__(self, radius):
        self.radius = radius  # å®ä¾‹å˜é‡

    def area(self):
        return Circle.pi * self.radius ** 2

c1 = Circle(5)
c2 = Circle(10)
print(Circle.pi)  # é€šè¿‡ç±»è®¿é—®ç±»å˜é‡
print(c1.pi)      # é€šè¿‡å®ä¾‹è®¿é—®ç±»å˜é‡

# ä¿®æ”¹ç±»å˜é‡
Circle.pi = 3.14
# æ‰€æœ‰å®ä¾‹çš„piéƒ½ä¼šæ”¹å˜
print(c1.pi)  # 3.14
print(c2.pi)  # 3.14
```

## ç»§æ‰¿ä¸æ–¹æ³•é‡å†™ï¼ˆOverrideï¼‰

### åŸºæœ¬ç»§æ‰¿è¯­æ³•

```python
class å­ç±»(çˆ¶ç±»):
    # å­ç±»ç‰¹æœ‰çš„å±æ€§å’Œæ–¹æ³•
```

### å¤šé‡ç»§æ‰¿

```python
class å­ç±»(çˆ¶ç±»1, çˆ¶ç±»2, ...):
    # å­ç±»çš„å®šä¹‰
```

### æ–¹æ³•é‡å†™ä¸ super()è°ƒç”¨

```python
class Animal:
    def __init__(self, name):
        self.name = name

    def speak(self):
        return "ä¸€äº›å£°éŸ³"

class Dog(Animal):
    def __init__(self, name, breed):
        # è°ƒç”¨çˆ¶ç±»çš„__init__æ–¹æ³•
        super().__init__(name)
        self.breed = breed

    def speak(self):
        # é‡å†™çˆ¶ç±»çš„speakæ–¹æ³•
        return "æ±ªæ±ª!"

class Cat(Animal):
    def speak(self):
        return "å–µå–µ!"

dog = Dog("æ—ºè´¢", "å“ˆå£«å¥‡")
print(dog.name)    # è¾“å‡º: æ—ºè´¢
print(dog.breed)   # è¾“å‡º: å“ˆå£«å¥‡
print(dog.speak()) # è¾“å‡º: æ±ªæ±ª!

cat = Cat("å’ªå’ª")
print(cat.speak()) # è¾“å‡º: å–µå–µ!
```

## æ–¹æ³•è§£æé¡ºåºï¼ˆMROï¼šMethod Resolution Orderï¼‰

-   å½“ç±»å‘ç”Ÿç»§æ‰¿æ—¶ï¼ŒPython æŒ‰ç…§ MRO å†³å®šè°ƒç”¨å“ªä¸ªç±»çš„æ–¹æ³•ã€‚
-   å¯ä»¥é€šè¿‡ `ç±»å.__mro__` æˆ– `help(ç±»å)` æŸ¥çœ‹è§£æé¡ºåºã€‚

### ç®€å•ç»§æ‰¿ä¸­ï¼ŒPython çš„ MRO ä½¿ç”¨å¦‚ä¸‹è§„åˆ™ï¼š

1. è‡ªå·±ä¼˜å…ˆï¼›
2. å¦‚æœè‡ªå·±æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œå‘æœ€è¿‘çš„çˆ¶ç±»æŸ¥æ‰¾ï¼›
3. é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æœ€é¡¶éƒ¨çš„çˆ¶ç±»æ²¡æœ‰è¯¥æ–¹æ³•ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼›
4. æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œ**self**å§‹ç»ˆæŒ‡å‘å½“å‰çš„å®ä¾‹
   :::tips
   é…å¥—ä¹ é¢˜ä¸­æœ‰ç›¸å…³ç»ƒä¹ 
   :::

## é­”æœ¯æ–¹æ³•ï¼ˆMagic Methods æˆ– Dunder Methodsï¼‰

Python å†…å»ºäº†ä¸€äº›ä»¥ `__` å¼€å¤´å’Œç»“å°¾çš„æ–¹æ³•ï¼Œå®šä¹‰è¿™äº›æ–¹æ³•å¯ä»¥å®ç°ç‰¹æ®Šè¡Œä¸ºã€‚

### å¸¸è§çš„é­”æœ¯æ–¹æ³•ï¼š

| æ–¹æ³•                  | è¯´æ˜                               | ç¤ºä¾‹                 |
| --------------------- | ---------------------------------- | -------------------- |
| `__init__(self, ...)` | æ„é€ å‡½æ•°                           | åˆå§‹åŒ–å¯¹è±¡           |
| `__str__(self)`       | å­—ç¬¦ä¸²æ˜¾ç¤ºï¼ˆ`str()`å’Œ`print()`æ—¶ï¼‰ | ç”¨æˆ·å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤º |
| `__repr__(self)`      | å¼€å‘è€…çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼ˆ`repr()`ï¼‰     | å¼€å‘è°ƒè¯•ç”¨å­—ç¬¦ä¸²è¡¨ç¤º |

### ç¤ºä¾‹ï¼š

```python
class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __str__(self):
        return f"Point({self.x}, {self.y})"

    def __repr__(self):
        return f"Point({self.x}, {self.y})"


p1 = Point(3, 4)
p2 = Point(1, 2)

print(p1)           # è¾“å‡º: Point(3, 4)
```

## ğŸ“š æ€»ç»“

| å†…å®¹             | è¯´æ˜                                      |
| ---------------- | ----------------------------------------- |
| ç±»ä¸å¯¹è±¡         | ç±»æ˜¯æ¨¡æ¿ï¼Œå¯¹è±¡æ˜¯å®ä¾‹                      |
| é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ | å°è£…ã€ç»§æ‰¿ã€å¤šæ€                          |
| `__init__`       | æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡                  |
| å®ä¾‹å˜é‡ä¸æ–¹æ³•   | é€šè¿‡`self`å¼•ç”¨ï¼Œå¯¹è±¡ç‹¬æœ‰                  |
| ç»§æ‰¿ä¸æ–¹æ³•é‡å†™   | å­ç±»å¯ç»§æ‰¿çˆ¶ç±»ï¼Œä½¿ç”¨`super()`è°ƒç”¨çˆ¶ç±»æ–¹æ³• |
| MRO              | è°ƒç”¨ç±»æ–¹æ³•æ—¶ï¼ŒæŸ¥æ‰¾é¡ºåºéµå¾ª MRO è§„åˆ™       |
| å°è£…ä¸ç§æœ‰å˜é‡   | ä½¿ç”¨`__`å‰ç¼€åˆ›å»ºç§æœ‰å˜é‡ï¼Œå®ç°æ•°æ®ä¿æŠ¤    |
| é­”æœ¯æ–¹æ³•         | å®šä¹‰ç‰¹æ®Šè¡Œä¸ºçš„åŒä¸‹åˆ’çº¿æ–¹æ³•                |
